{"ast":null,"code":"import{useState,useEffect}from\"react\";import axiosClient from\"../api/axiosClient\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostForm=()=>{const[form,setForm]=useState({postTitle:\"\",postContent:\"\"});const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{await axiosClient.post(\"/post/post\",form);alert(\"Post Created successfully!\");navigate(\"/\");}catch(err){var _err$response;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||\"Failed to create post.\");}};const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");return;}},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"postTitle\",placeholder:\"Post Title\",value:form.postTitle,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"postContent\",placeholder:\"Post Content\",value:form.postContent,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create\"})]})]});};export default PostForm;","map":{"version":3,"names":["useState","useEffect","axiosClient","useNavigate","jsx","_jsx","jsxs","_jsxs","PostForm","form","setForm","postTitle","postContent","navigate","handleSubmit","e","preventDefault","post","alert","err","_err$response","response","data","handleChange","target","name","value","token","localStorage","getItem","children","onSubmit","placeholder","onChange","required","type"],"sources":["C:/Users/Junzhang Ren/Desktop/post-management-frontend/src/pages/PostForm.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axiosClient from \"../api/axiosClient\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst PostForm = () =>{\r\n  const [form, setForm] = useState({\r\n    postTitle:\"\",\r\n    postContent: \"\"\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axiosClient.post(\"/post/post\", form);\r\n      alert(\"Post Created successfully!\");\r\n      navigate(\"/\");\r\n    }catch(err) {\r\n      alert(err.response?.data || \"Failed to create post.\")\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setForm({...form, [e.target.name]: e.target.value});\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n  },[navigate]);\r\n\r\n  return(\r\n    <div> \r\n      <h2>Create New Post</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input \r\n          name=\"postTitle\"\r\n          placeholder=\"Post Title\"\r\n          value={form.postTitle}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <textarea          \r\n          name=\"postContent\"\r\n          placeholder=\"Post Content\"\r\n          value={form.postContent}\r\n          onChange={handleChange}\r\n          required\r\n          ></textarea>\r\n        <button type=\"submit\">Create</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostForm;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,oBAAoB,CAC5C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAK,CACpB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,CAC/BW,SAAS,CAAC,EAAE,CACZC,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAd,WAAW,CAACe,IAAI,CAAC,YAAY,CAAER,IAAI,CAAC,CAC1CS,KAAK,CAAC,4BAA4B,CAAC,CACnCL,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,MAAMM,GAAG,CAAE,KAAAC,aAAA,CACVF,KAAK,CAAC,EAAAE,aAAA,CAAAD,GAAG,CAACE,QAAQ,UAAAD,aAAA,iBAAZA,aAAA,CAAcE,IAAI,GAAI,wBAAwB,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIR,CAAC,EAAK,CAC1BL,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAE,CAACM,CAAC,CAACS,MAAM,CAACC,IAAI,EAAGV,CAAC,CAACS,MAAM,CAACE,KAAK,CAAC,CAAC,CACrD,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVd,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CAEF,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAEb,mBACEN,KAAA,QAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBvB,KAAA,SAAMwB,QAAQ,CAAEjB,YAAa,CAAAgB,QAAA,eAC3BzB,IAAA,UACEoB,IAAI,CAAC,WAAW,CAChBO,WAAW,CAAC,YAAY,CACxBN,KAAK,CAAEjB,IAAI,CAACE,SAAU,CACtBsB,QAAQ,CAAEV,YAAa,CACvBW,QAAQ,MACT,CAAC,cACF7B,IAAA,aACEoB,IAAI,CAAC,aAAa,CAClBO,WAAW,CAAC,cAAc,CAC1BN,KAAK,CAAEjB,IAAI,CAACG,WAAY,CACxBqB,QAAQ,CAAEV,YAAa,CACvBW,QAAQ,MACG,CAAC,cACd7B,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAL,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjC,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}